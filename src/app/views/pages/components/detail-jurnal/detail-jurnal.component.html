<div class="p-container">
    <div style="display: flex; flex-direction: row; height: 38px; align-items: center; background-color: #1e1e2d;">
        <div style="width: 32.5%; padding: 10px; border-right: solid 1px lightgrey;" id="h-akun">
            <span class="title">Akun</span>
        </div>
        <div style="width: 25%; padding: 10px; border-right: solid 1px lightgrey;" id="h-debit">
            <span class="title">Keterangan</span>
        </div>
        <div style="width: 21.25%; padding: 10px; border-right: solid 1px lightgrey;" id="h-debit">
            <span class="title">Debit</span>
        </div>
        <div style="width: 21.25%; padding: 10px" id="h-kredit">
            <span class="title">Kredit</span>
        </div>
    </div>

    <div style="overflow-y: auto; width: 100%; height: calc(100% - 38px);" id="c-container">
        <div *ngFor="let x of res_data; let i = index"
            style="width: 100%; height: auto; display: flex; flex-direction: row; border-bottom: 1px solid lightgrey;"
            [id]="i == 0 ? 'content' : null">
            <div style="width: 32.5%; padding: 10px; border-right: solid 1px lightgrey;" class="input-group">
                <input class="form-control m-input" type="text" name="{{ 'akun-' + i }}" (blur)="onBlur($event, i)"
                    (keyup.enter)="onBlur($event, i)" (keyup.tab)="onBlur($event, i)"
                    [(ngModel)]="res_data[i]['keterangan_akun']">
                <div class="input-group-append">
                    <button tabindex="-1" type="button" class="btn btn-primary" (click)="openDialog(i)">
                        Cari
                    </button>
                </div>
            </div>
            <div style="width: 25%; padding: 10px; border-right: solid 1px lightgrey;">
                <input class="form-control m-input" type="text" name="{{ 'keterangan-' + i }}" placeholder="Keterangan"
                    [(ngModel)]="res_data[i]['keterangan']">
            </div>
            <div style="width: 21.25%; padding: 10px; border-right: solid 1px lightgrey" class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon-left">Rp.</span>
                </div>
                <input class="form-control m-input number-align-right" type="text" name="{{ 'debit-' + i }}"
                    (blur)="countDebit(i)" (keyup.enter)="countDebit(i)" (keyup.tab)="countDebit(i)"
                    [(ngModel)]="res_data[i]['saldo_debit']" currencyMask [options]="currencyOptions">
            </div>
            <div style="width: 21.25%; padding: 10px" class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon-left">Rp.</span>
                </div>
                <input class="form-control m-input number-align-right" type="text" name="{{ 'kredit-' + i }}"
                    (blur)="countKredit(i)" (keyup.enter)="countKredit(i)" (keyup.tab)="countKredit(i)"
                    [(ngModel)]="res_data[i]['saldo_kredit']" currencyMask [options]="currencyOptions">
            </div>
        </div>
    </div>

    <div style="width: 100%; height: 26px; display: flex; flex-direction: row;">
        <div style="width: 57.5%; height: 100%;"></div>
        <div style="width: 21.25%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <div class="baris" style="display: flex; justify-content: center; align-items: center; cursor: pointer;"
                (click)="addRow()">
                <i class="flaticon2-add-square"></i>
                <span style="margin-left: 10px;" class="unselectable">Tambah Baris</span>
            </div>
        </div>
        <div style="width: 21.25%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <div class="baris" style="display: flex; justify-content: center; align-items: center; cursor: pointer;"
                (click)="deleteRow()">
                <i class="flaticon2-trash"></i>
                <span style="margin-left: 10px;" class="unselectable">Hapus Baris</span>
            </div>
        </div>
    </div>

</div>

<div style="width: 100%; height: 38px; display: flex; flex-direction: row; margin-top: 5px;" *ngIf="!loading">
    <div style="width: 57.5%;"></div>
    <div style="width: 21.25%; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
        <span>Total Debit :</span>
        <h6 [ngStyle]="{'color': total_debit != total_kredit ? 'red' : 'black'}">Rp
            {{ numberFormatter(total_debit, 2) }}</h6>
    </div>
    <div style="width: 21.25%; padding: 10px; display: flex; justify-content: space-between; align-items: center;">
        <span>Total Kredit :</span>
        <h6 [ngStyle]="{'color': total_debit != total_kredit ? 'red' : 'black'}">Rp
            {{ numberFormatter(total_kredit, 2) }}</h6>
    </div>
</div>